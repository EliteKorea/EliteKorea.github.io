<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>공부 타이머</title>

<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#f5f5f5;
  font-family:Arial;
}

.timer-box{
  background:white;
  padding:30px;
  border-radius:12px;
  text-align:center;
  width:300px;
}

/* 원형 게이지 */
svg{
  width:200px;
  height:200px;
}
circle{
  fill:none;
  stroke-width:10;
}
.bg{
  stroke:#eee;
}
.progress{
  stroke:#4CAF50;
  stroke-linecap:round;
  transform:rotate(-90deg);
  transform-origin:50% 50%;
  stroke-dasharray:565;
  stroke-dashoffset:0;
}

/* 시간 */
.time{
  font-size:32px;
  margin:10px 0;
}

/* 입력 */
.inputs input{
  width:60px;
  padding:5px;
  font-size:16px;
  margin:5px;
  text-align:center;
}

/* 버튼 */
button{
  margin:5px;
  padding:8px 15px;
  font-size:14px;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="timer-box">
  <h2>⏱ 공부 타이머</h2>

  <svg>
    <circle class="bg" cx="100" cy="100" r="90"></circle>
    <circle class="progress" cx="100" cy="100" r="90" id="circle"></circle>
  </svg>

  <div class="time" id="display">00:00:00</div>

  <div class="inputs">
    <input id="h" type="number" min="0" placeholder="시">
    <input id="m" type="number" min="0" max="59" placeholder="분">
    <input id="s" type="number" min="0" max="59" placeholder="초">
  </div>

  <button onclick="start()">시작</button>
  <button onclick="pause()">일시정지</button>
  <button onclick="reset()">초기화</button>
</div>

<script>
let total=0;
let remain=0;
let timer=null;
const circle=document.getElementById("circle");
const max=565;

function update(){
  let h=Math.floor(remain/3600);
  let m=Math.floor((remain%3600)/60);
  let s=remain%60;
  display.innerText=
    `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
  
  circle.style.strokeDashoffset =
    max - (remain/total)*max;
}

function start(){
  if(timer) return;

  if(remain===0){
    const h=+document.getElementById("h").value||0;
    const m=+document.getElementById("m").value||0;
    const s=+document.getElementById("s").value||0;
    total=remain=h*3600+m*60+s;
    if(total<=0) return;
  }

  timer=setInterval(()=>{
    if(remain<=0){
      clearInterval(timer);
      timer=null;
      return;
    }
    remain--;
    update();
  },1000);
}

function pause(){
  clearInterval(timer);
  timer=null;
}

function reset(){
  pause();
  remain=0;
  circle.style.strokeDashoffset=0;
  display.innerText="00:00:00";
}
</script>

</body>
</html>

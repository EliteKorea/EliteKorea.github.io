<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>í”½ì…€ ìº˜ë¦°ë”</title>

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  padding: 10px;
  font-family: monospace;
  background: #bdbdbd;
}

.container {
  display: grid;
  grid-template-columns: 260px 1fr;
  gap: 10px;
}

/* ì™¼ìª½ */
.left {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.box {
  background: #fff;
  border: 3px solid black;
  padding: 8px;
}

/* ì˜¤ë¥¸ìª½ */
.calendar-box {
  height: calc(100vh - 20px);
  display: flex;
  flex-direction: column;
}

/* ë‹¬ë ¥ */
.calendar {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 4px;
  flex: 1;
}

.day {
  text-align: center;
  font-weight: bold;
  background: #d0d0d0;
  border: 2px solid black;
}

.cell {
  border: 2px solid black;
  background: #f5f5f5;
  height: 120px;
  padding: 4px;
  overflow-y: auto;
  font-size: 12px;
}

/* ì˜¤ëŠ˜ ë‚ ì§œ */
.today {
  border: 4px solid red;
  background: #fff0f0;
}

textarea {
  width: 100%;
  height: 90px;
  resize: none;
  border: none;
  background: transparent;
  font-family: monospace;
  font-size: 12px;
}

/* í”½ì…€ ë„ê¸° */
.no-pixel * {
  border-radius: 8px;
  border-width: 1px !important;
}
</style>
</head>

<body>

<div class="container">

  <!-- ì™¼ìª½ -->
  <div class="left">
    <div class="box">
      <h3>â± íƒ€ì´ë¨¸</h3>
      <input id="m" type="number" value="1" style="width:50px"> ë¶„
      <input id="s" type="number" value="0" style="width:50px"> ì´ˆ
      <button onclick="startTimer()">ì‹œì‘</button>
      <p id="time">ëŒ€ê¸°ì¤‘</p>
    </div>

    <div class="box">
      <h3>ğŸ’¬ ì˜¤ëŠ˜ì˜ ëª…ì–¸</h3>
      <p id="quote"></p>
    </div>

    <div class="box">
      <h3>âš™ ì„¤ì •</h3>
      <button onclick="toggleStyle()">í”½ì…€ ëª¨ë“œ ON / OFF</button>
    </div>

    <div class="box"><h3>ğŸ’– í›„ì›</h3></div>
    <div class="box"><h3>ğŸ“¢ ê´‘ê³ </h3></div>
  </div>

  <!-- ì˜¤ë¥¸ìª½ -->
  <div class="box calendar-box">
    <h2 id="title"></h2>

    <div class="calendar" id="calendar">
      <div class="day">ì¼</div><div class="day">ì›”</div><div class="day">í™”</div>
      <div class="day">ìˆ˜</div><div class="day">ëª©</div><div class="day">ê¸ˆ</div><div class="day">í† </div>
    </div>
  </div>

</div>

<script>
/* íƒ€ì´ë¨¸ */
function startTimer() {
  let t = Number(m.value)*60 + Number(s.value);
  const i = setInterval(()=>{
    if(t<=0){ clearInterval(i); time.innerText="ë!"; return; }
    t--; time.innerText=Math.floor(t/60)+"ë¶„ "+(t%60)+"ì´ˆ";
  },1000);
}

/* ëª…ì–¸ */
quote.innerText=["ì§€ê¸ˆ ì‹œì‘í•´ë„ ëŠ¦ì§€ ì•Šë‹¤","ì™„ë²½ë³´ë‹¤ ì‹¤í–‰","ê³„ì†í•˜ë©´ ëœë‹¤"]
[Math.floor(Math.random()*3)];

/* í”½ì…€ í† ê¸€ */
function toggleStyle(){
  document.body.classList.toggle("no-pixel");
}

/* ë‹¬ë ¥ */
const cal=document.getElementById("calendar");
const data=JSON.parse(localStorage.getItem("memo"))||{};
const now=new Date();
const y=now.getFullYear(), mth=now.getMonth(), d0=now.getDate();

title.innerText=`ğŸ“… ${y}ë…„ ${mth+1}ì›” ${d0}ì¼`;

function draw(){
  cal.querySelectorAll(".cell").forEach(e=>e.remove());
  const first=new Date(y,mth,1).getDay();
  const last=new Date(y,mth+1,0).getDate();

  for(let i=0;i<first;i++) cal.appendChild(document.createElement("div"));

  for(let d=1;d<=last;d++){
    const key=`${y}-${String(mth+1).padStart(2,"0")}-${String(d).padStart(2,"0")}`;
    const cell=document.createElement("div");
    cell.className="cell";
    if(d===d0) cell.classList.add("today");

    const ta=document.createElement("textarea");
    ta.placeholder=d;
    ta.value=data[key]||"";
    ta.oninput=()=>{
      data[key]=ta.value;
      localStorage.setItem("memo",JSON.stringify(data));
    };

    cell.appendChild(ta);
    cal.appendChild(cell);
  }
}
draw();
</script>

</body>
</html>
